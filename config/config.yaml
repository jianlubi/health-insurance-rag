models:
  answer_model: gpt-4o-mini
  embedding_model: text-embedding-3-small
  rerank_model: text-embedding-3-large
  llm_rerank_model: gpt-4o-mini

retrieval:
  table_name: policy_chunks
  top_k: 4
  candidate_k: 12
  use_hybrid_search: false
  keyword_candidate_k: 12
  hybrid_alpha: 0.7
  hybrid_rrf_k: 60
  use_rerank: false
  use_llm_rerank: false
  llm_rerank_candidate_k: 8
  llm_rerank_keep_k: 4
  use_auto_merging: false
  auto_merge_max_gap: 1
  auto_merge_max_chunks: 3
  use_sentence_window: false
  sentence_window_size: 1

cache:
  enabled: true
  backend: redis
  redis_url: redis://127.0.0.1:6379/0
  embedding_ttl_seconds: 86400
  retrieval_enabled: true
  retrieval_ttl_seconds: 300
  retrieval_version: v1
  key_prefix: health_rag

answer:
  default_question: "What illnesses are covered by this policy?"

eval:
  questions_path: data/eval/test_questions.json
  output_path: data/eval/eval_results.jsonl
  top_k: 4
  max_questions: 30

ingest:
  policies_dir: data/policies
  output_path: data/chunks/policy_chunks.jsonl
  chunk_size_tokens: 400
  chunk_overlap_tokens: 80
  min_chunk_tokens: 40
  model_name: text-embedding-3-small

index:
  input_path: data/chunks/policy_chunks.jsonl
  table_name: policy_chunks
  embedding_model: text-embedding-3-small
  embed_batch_size: 64

gradio:
  host: 127.0.0.1
  port: 7860
  share: false
